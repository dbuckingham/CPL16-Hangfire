<style>
    .margin-top {
        margin-top: 10px;
    }
    
    @@keyframes march {
        from {
            transform: translateX(0px);
            transition-timing-function: ease-in-out;
        }

        to {
            transform: translateX(100%);
        }
    }

    .lemming-march {
        background-image: url('/images/Lemmings/lemming-march.gif');
        width: 48px;
        height: 48px;
        float: left;
        -webkit-animation-iteration-count: infinite;
        -moz-animation-iteration-count: infinite;
        -ms-animation-iteration-count: infinite;
        -o-animation-iteration-count: infinite;
        animation-iteration-count: infinite;
        -webkit-animation-duration: 10s;
        -moz-animation-duration: 10s;
        -ms-animation-duration: 10s;
        -o-animation-duration: 10s;
        animation-duration: 10s;
        -webkit-animation-name: march;
        -moz-animation-name: march;
        -ms-animation-name: march;
        -o-animation-name: march;
        animation-name: march;
        background-repeat: no-repeat;
    }
</style>

<h3>Lemming Dashboard</h3>
<div id="dashboard">
    @{Html.RenderAction("GetDashboard", "Home");}
</div>
<div class="row">
    <div class="col-md-9">
        <span style="width: 100%;" class="lemming-march"></span>
    </div>
    <div class="col-md-3">
        @Html.ActionLink("Run my Lemmings off a cliff...", "Reset", "Home", new { @class = "pull-right" })
    </div>
</div>

<h3>Lemming Control Panel</h3>

<div class="row">
    @using (Html.BeginForm("DoSayHelloJob", "Home"))
    {
        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading">Hello Lemmings</div>
                <div class="panel-body">
                    <div class="col-xs-4 col-md-4">
                        <img src="~/images/Lemmings/HelloLemming.png" class="center-block img-responsive"/>
                    </div>
                    <div class="col-xs-8 col-md-8">
                        <input type="text" name="quantity" class="form-control" placeholder="#"/>
                        <button type="submit" class="btn btn-primary margin-top">Go!</button>
                    </div>
                </div>
            </div>
        </div>
    }
    @using (Html.BeginForm("DoBuildHouseJob", "Home"))
    {
        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading">Home Builder Lemmings</div>
                <div class="panel-body">
                    <div class="col-xs-4 col-md-4">
                        <img src="~/images/Lemmings/HomeBuilderLemming.png" class="center-block img-responsive"/>
                    </div>
                    <div class="col-xs-8 col-md-8">
                        <input type="text" name="quantity" class="form-control" placeholder="#"/>
                        <button type="submit" class="btn btn-primary margin-top">Go!</button>
                    </div>
                </div>
            </div>
        </div>
    }
    @using (Html.BeginForm("DoPaintingJob", "Home"))
    {
        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading">Painter Lemmings</div>
                <div class="panel-body">
                    <div class="col-xs-4 col-md-4">
                        <img src="~/images/Lemmings/PainterLemming.png" class="center-block img-responsive"/>
                    </div>
                    <div class="col-xs-8 col-md-8">
                        <input type="text" name="quantity" class="form-control" placeholder="#"/>
                        <button type="submit" class="btn btn-primary margin-top">Go!</button>
                    </div>
                </div>
            </div>
        </div>
    }
</div>

<div class="row">
    @using (Html.BeginForm("DoPlumbingJob", "Home"))
    {
        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading">Plumber Lemmings</div>
                <div class="panel-body">
                    <div class="col-xs-4 col-md-4">
                        <img src="~/images/Lemmings/PlumberLemming.png" class="center-block img-responsive"/>
                    </div>
                    <div class="col-xs-8 col-md-8">
                        <input type="text" name="quantity" class="form-control" placeholder="#"/>
                        <button type="submit" class="btn btn-primary margin-top">Go!</button>
                    </div>
                </div>
            </div>
        </div>
    }
    @using (Html.BeginForm("DoSalesJob", "Home"))
    {
        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading">Sales Lemmings</div>
                <div class="panel-body">
                    <div class="col-xs-4 col-md-4">
                        <img src="~/images/Lemmings/SalesLemming.png" width="100" height="123" class="center-block img-responsive"/>
                    </div>
                    <div class="col-xs-8 col-md-8">
                        <input type="text" name="quantity" class="form-control" placeholder="#"/>
                        <button type="submit" class="btn btn-primary margin-top">Go!</button>
                    </div>
                </div>
            </div>
        </div>
    }
    @using (Html.BeginForm("DoWeldingJob", "Home"))
    {
        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading">Welder Lemmings</div>
                <div class="panel-body">
                    <div class="col-xs-4 col-md-4">
                        <img src="~/images/Lemmings/WelderLemming.png" class="center-block img-responsive"/>
                    </div>
                    <div class="col-xs-8 col-md-8">
                        <input type="text" name="quantity" class="form-control" placeholder="#"/>
                        <button type="submit" class="btn btn-primary margin-top">Go!</button>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
@section scripts
{
    <script>
        $(function () {
            var spinner = new Spinner();

            $('button').click(function () {
                spinner.spin(this);
            });
        });

        function refreshDashboard() {
            setTimeout(function () {
                $.get('@Url.Action("GetDashboard", "Home")', function (data) {
                    $('#dashboard').html(data);
                }).always(function() {
                    refreshDashboard();
                });
            }, 10000);
        }

        refreshDashboard();
    </script>
}